# d.判断圆与矩形关系

## 思路

- 首先，对于矩形来说，将坐标系原点移到矩形的中心，并且将从原点到第一象限的顶点的向量a求出来。 

![img](https://img-blog.csdn.net/20160726164008951)

- 其次，无论圆心E在哪一个象限，都将其通过轴对称转换到第一象限，并且求出原点到转换后的圆心E′的向量b。

![](https://img-blog.csdn.net/20160726164214172)

- 接下来,算出AA到E′E′的向量c，并且把向量c中的负值全部置为0，得到最终的向量c。

  - 两个分量都大于0

  ![](https://img-blog.csdn.net/20160726164539371)

  - x值小于0

  ![](https://img-blog.csdn.net/20160726165238639)

  - y值小于0

  ![](https://img-blog.csdn.net/20160726165356440)

  - x和y都小于0时，最终的向量为(0,0)。

**因此最终只要比较半径r与向量c的模长的大小即可**，如果需要在代码中实现，则无需开方。

- **若c<r，则圆与矩形相交。**
- **若c=r，则圆与矩形相切。**
- **否则二者相离。**

## 代码

```C++
bool Intersection(float2 c, float2 h, float2 p, float r) 
{
    float2 v = abs(p - c); 
    float2 u = max(v - h, 0); 
    return dot(u, u) < r * r; 
} 
```

